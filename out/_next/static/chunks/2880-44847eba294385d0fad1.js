(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2880],{23386:function(e,t,r){"use strict";r.d(t,{Ue:function(){return l},CP:function(){return p},sT:function(){return h}});var n=r(809),a=r.n(n),s=r(92447),o=r(94301),c=r.n(o),i=r(82025),u=r(88043),l=function(){var e=(0,s.Z)(a().mark((function e(t,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c()("".concat(i.bl,"/category"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(t)}).then((function(e){return(0,u._y)(e),e.json()})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,s.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c()("".concat(i.bl,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,s.Z)(a().mark((function e(t,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c()("".concat(i.bl,"/category/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)}}).then((function(e){return(0,u._y)(e),e.json()})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},72199:function(e,t,r){"use strict";r.d(t,{Ue:function(){return l},NJ:function(){return p},tc:function(){return h}});var n=r(809),a=r.n(n),s=r(92447),o=r(94301),c=r.n(o),i=r(82025),u=r(88043),l=function(){var e=(0,s.Z)(a().mark((function e(t,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c()("".concat(i.bl,"/tag"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(t)}).then((function(e){return(0,u._y)(e),e.json()})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,s.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c()("".concat(i.bl,"/tags"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,s.Z)(a().mark((function e(t,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c()("".concat(i.bl,"/tag/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)}}).then((function(e){return(0,u._y)(e),e.json()})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},82880:function(e,t,r){"use strict";var n=r(85893),a=r(71385),s=r(26265),o=(r(41664),r(67294)),c=r(5152),i=r(11163),u=r(88043),l=r(23386),p=r(72199),h=r(48975),f=r(85156),d=r(70807),g=r(87613);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=(0,c.default)((function(){return Promise.all([r.e(585),r.e(677)]).then(r.bind(r,40677))}),{loading:function(){return""},ssr:!1,loadableGenerated:{webpack:function(){return[40677]},modules:["..\\components\\crud\\BlogCreate.js -> ../slate-plugins/index"]}});t.Z=(0,i.withRouter)((function(e){var t=e.router,r=(0,o.useState)([]),c=r[0],i=r[1],m=(0,o.useState)([]),x=m[0],y=m[1],v=(0,o.useState)([]),N=v[0],O=v[1],w=(0,o.useState)([]),S=w[0],P=w[1],C=(0,o.useState)(!!localStorage.getItem("blog")&&JSON.parse(localStorage.getItem("blog"))),k=(C[0],C[1]),D=(0,o.useState)({error:"",sizeError:"",success:"",formData:"",subtitle:"",language:"",title:"",forSlug:"",desc:"",hidePublishButton:!1}),Z=D[0],E=D[1],T=Z.error,B=(Z.sizeError,Z.success),_=Z.formData,z=Z.title,J=Z.subtitle,A=Z.language,L=Z.desc,F=Z.forSlug,G=(Z.hidePublishButton,(0,u.ej)("token"));(0,o.useEffect)((function(){E(j(j({},Z),{},{formData:new FormData})),I(),V()}),[t]);var I=function(){(0,l.CP)().then((function(e){e.error?E(j(j({},Z),{},{error:e.error})):i(e)}))},V=function(){(0,p.NJ)().then((function(e){e.error?E(j(j({},Z),{},{error:e.error})):y(e)}))},W=function(e){e.preventDefault(),(0,h.Vh)(_,G).then((function(e){e.error?E(j(j({},Z),{},{error:e.error})):(E(j(j({},Z),{},{title:"",subtitle:"",desc:"",language:"",forSlug:"",error:"",success:'A new blog titled "'.concat(e.title,'" is created')})),k(""),i([]),y([]))}))},H=function(e){return function(t){var r,n="photo"===e?t.target.files[0]:t.target.value;_.set(e,n),E(j(j({},Z),{},(r={},(0,s.Z)(r,e,n),(0,s.Z)(r,"formData",_),(0,s.Z)(r,"error",""),r)))}},M=function(e){k(e);var t=(0,a.Z)(e),r=(0,d.mhf)(),n=(0,d.aD$)(r,{plugins:g.vW,nodes:t});_.set("body",e),localStorage.setItem("blog",JSON.stringify(n))},Y=function(e){return function(){E(j(j({},Z),{},{error:""}));var t=N.indexOf(e),r=(0,a.Z)(N);-1===t?r.push(e):r.splice(t,1),console.log(r),O(r),_.set("categories",r)}},R=function(e){return function(){E(j(j({},Z),{},{error:""}));var t=N.indexOf(e),r=(0,a.Z)(S);-1===t?r.push(e):r.splice(t,1),console.log(r),P(r),_.set("tags",r)}};return(0,n.jsx)("section",{className:"blogCreate",children:(0,n.jsxs)("div",{className:"createMain",children:[(0,n.jsxs)("div",{className:"blogDiv",children:[(0,n.jsx)("h1",{className:"large text-primary",children:"Create Blog"}),(0,n.jsx)("div",{className:"line"}),(0,n.jsxs)("div",{className:"createForm",children:[(0,n.jsxs)("form",{className:"form",onSubmit:W,children:[(0,n.jsx)("div",{className:"form-group",children:(0,n.jsxs)("select",{name:"Language",value:A,onChange:H("language"),required:!0,children:[(0,n.jsx)("option",{value:"0",children:"Select Language"}),(0,n.jsx)("option",{value:"en",children:"en"}),(0,n.jsx)("option",{value:"hi",children:"hi"})]})}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"text-primary",children:"Title"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{className:"form-group",type:"text",value:z,onChange:H("title")})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"text-primary",children:"Sub-Title"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{className:"form-group",type:"text",value:J,onChange:H("subtitle")})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"text-primary",children:"Slug"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{className:"form-group",type:"text",value:F,onChange:H("forSlug")})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"text-primary",children:"Description"}),(0,n.jsx)("br",{}),(0,n.jsx)("textarea",{className:"blog textinput",placeholder:"Blog Description",maxLength:"160",value:L,onChange:H("desc")}),(0,n.jsxs)("h2",{className:"text-primary",children:[160-L.length,"/160"]})]}),(0,n.jsx)(b,{handleChange:M}),(0,n.jsx)("button",{type:"submit",className:"btn nbtn btn-dark my-1",children:"Publish"})]}),(0,n.jsx)("div",{className:"line"}),(0,n.jsxs)("div",{className:"py-3",children:[(0,n.jsx)("div",{className:"badge badge-danger",style:{display:T?"":"none"},children:T}),(0,n.jsx)("div",{className:"badge badge-success",style:{display:B?"":"none"},children:B})]})]})]}),(0,n.jsxs)("div",{className:"catagoriesTags",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-primary",children:"Featured Image"}),(0,n.jsx)("small",{className:"text-light-gray",children:"Max size: 1mb"}),(0,n.jsx)("br",{}),(0,n.jsxs)("label",{className:" btn btn-dark nbtn",children:["Upload Featured Image",(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:H("photo"),hidden:!0})]}),(0,n.jsx)("div",{className:"line"})]}),(0,n.jsxs)("div",{className:"checkList",children:[(0,n.jsxs)("ul",{children:[(0,n.jsx)("h3",{className:"text-primary",children:"Tags"}),(0,n.jsx)("small",{className:"text-light-gray",children:"Select the tags related to your blog"}),x&&x.map((function(e,t){return(0,n.jsxs)("li",{children:[(0,n.jsx)(f.Z,{onChange:R(e._id)}),(0,n.jsx)("label",{children:e.name})]},t)}))]}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("h3",{className:"text-primary",children:"Categories"}),(0,n.jsx)("small",{className:"text-light-gray",children:"Select the category of your blog"}),c&&c.map((function(e,t){return(0,n.jsxs)("li",{children:[(0,n.jsx)(f.Z,{onChange:Y(e._id)}),(0,n.jsx)("label",{children:e.name})]},t)}))]})]})]})]})})}))},87613:function(e,t,r){"use strict";r.d(t,{nH:function(){return c},YM:function(){return i},vW:function(){return p},nX:function(){return h}});var n=r(26265),a=(r(67294),r(70807));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=o(o({},(0,a.mbl)()),{},(0,n.Z)({},a.sTz,(0,a.vl2)(a.rVG,{styles:{root:{backgroundColor:"#111827",selectors:{code:{color:"white"}}}}}))),i=(0,a.O_e)(),u={types:[a.GDC,a.oGK,a.o3Y,a.jB_,a.$H6,a.KWL,a.ahg,a.sTz,a.Zvw],defaultType:a.JBe},l={rules:[o(o({},u),{},{hotkey:"Enter",predicate:a.ptC}),o(o({},u),{},{hotkey:"Backspace",predicate:a._YE})]},p=[(0,a.SPV)(),(0,a.JE4)(),(0,a.qpA)(),(0,a.V8Y)(),(0,a.gH_)(l),(0,a.ZZF)(),(0,a.DLO)(),(0,a._8X)(),(0,a.DRt)(),(0,a.SNQ)(),(0,a.Tvz)(),(0,a.w4y)(),(0,a.cB2)({allow:[a.IVr]}),(0,a.cB2)({allow:[a.vdJ]}),(0,a.BM4)(),(0,a.pJg)(),(0,a.Td$)(),(0,a.wFy)(),(0,a.Hon)(),(0,a.sWz)(),(0,a.oyw)(),(0,a.fSR)()],h=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.type,n=void 0===r?a.JBe:r,s=t.mark,o={text:e};return s&&(o[s]=!0),{type:n,children:[o]}}("Write Something amazing that helps the students and job seekers...",{type:a.JBe})]}}]);