(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4142],{94046:function(e,t,r){"use strict";r.d(t,{Ai:function(){return u},Vx:function(){return d}});var n=r(809),a=r.n(n),s=r(92447),o=r(94301),i=r.n(o),l=r(82025),c=r(88043),u=function(){var e=(0,s.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()("".concat(l.bl,"/user/profile"),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e,t){return i()("".concat(l.bl,"/user/update"),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(e)},body:t}).then((function(e){return(0,c._y)(e),e.json()})).catch((function(e){return console.log(e)}))}},17199:function(e,t,r){"use strict";var n=r(85893),a=r(67294),s=r(11163),o=r(88043);t.Z=function(e){var t=e.children;return(0,a.useEffect)((function(){(0,o.$D)()||s.default.push("/signin")}),[]),(0,n.jsx)(a.Fragment,{children:t})}},33099:function(e,t,r){"use strict";var n=r(85893),a=r(71385),s=r(26265),o=r(67294),i=r(11163),l=r(88043),c=r(94046),u=r(82025);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(){var e=(0,o.useState)({username:"",username_for_photo:"",name:"",email:"",about:"",password:"",skills:"",website:"",insta:"",facebook:"",twitter:"",linkedin:"",error:!1,success:!1,loading:!1,photo:"",userData:new FormData}),t=e[0],r=e[1],d=(0,l.ej)("token"),m=t.username,f=(t.username_for_photo,t.name),h=(t.email,t.status),b=t.about,x=t.password,j=t.error,y=t.skills,g=t.success,v=t.insta,w=t.facebook,N=t.website,k=t.twitter,O=t.linkedin,P=t.loading,_=(t.photo,t.userData);(0,o.useEffect)((function(){(0,c.Ai)(d).then((function(e){e.error?r(p(p({},t),{},{error:e.error})):r(p(p({},t),{},{username:e.username,username_for_photo:e.username,name:e.name,email:e.email,about:e.about,status:e.status,insta:e.insta,website:e.website,skills:e.skills,facebook:e.facebook,twitter:e.twitter,linkedin:e.linkedin}))})),r(p(p({},t),{},{userData:new FormData}))}),[]);var C=function(e){return function(n){var o,i,l="photo"===e?n.target.files[0]:n.target.value;_.set(e,l),(o=console).log.apply(o,(0,a.Z)(_)),r(p(p({},t),{},(i={},(0,s.Z)(i,e,l),(0,s.Z)(i,"userData",_),(0,s.Z)(i,"error",!1),(0,s.Z)(i,"success",!1),i)))}},A=function(e){e.preventDefault(),r(p(p({},t),{},{loading:!0})),(0,c.Vx)(d,_).then((function(e){e.error?(console.log("data.error",e.error),r(p(p({},t),{},{error:e.error,loading:!1}))):(0,l.Nq)(e,(function(){r(p(p({},t),{},{username:e.username,name:e.name,email:e.email,status:e.status,about:e.about,password:"",website:e.website,skills:e.skills,insta:e.insta,facebook:e.facebook,twitter:e.twitter,linkedin:e.linkedin,success:!0,loading:!1})),(0,l.$D)()&&1===(0,l.$D)().role?i.default.push("/admin"):i.default.push("/user")}))}))};return(0,n.jsx)(o.Fragment,{children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("h1",{className:"text-primary large",children:"Mess up with your profile"}),(0,n.jsx)("p",{className:"lead",children:"Create or edit your profile"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"badge badge-success p-1",style:{display:g?"":"none"},children:"Profile updated"}),(0,n.jsx)("div",{className:"badge badge-danger p-1",style:{display:j?"":"none"},children:j}),(0,n.jsx)("div",{className:"badge badge-primary p-1",style:{display:P?"":"none"},children:"Loading..."})]}),(0,n.jsx)("div",{className:"line"}),(0,n.jsx)("div",{className:"avatar-upload",style:{margin:"auto"},children:(0,n.jsx)("div",{className:"avatar-preview",children:(0,n.jsx)("img",{src:"".concat(u.bl,"/user/photo/").concat(m),alt:""})})}),(0,n.jsxs)("form",{onSubmit:A,className:"form",children:[(0,n.jsx)("small",{className:"text-primary lead",children:"* = required field"}),(0,n.jsx)("div",{className:"form-group nbtn",children:(0,n.jsxs)("label",{className:"btn btn-dark nbtn my-1",children:["Update Profile photo",(0,n.jsx)("input",{onChange:C("photo"),type:"file",accept:"image/*",hidden:!0})]})}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("input",{type:"text",placeholder:"Username",value:m,onChange:C("username")}),(0,n.jsx)("small",{className:"form-text",children:"username must be unique"})]}),(0,n.jsx)("div",{className:"form-group",children:(0,n.jsx)("input",{type:"text",placeholder:"Name",value:f,onChange:C("name")})}),(0,n.jsx)("div",{className:"form-group",children:(0,n.jsx)("input",{type:"text",placeholder:"Your current Occupation or Status",value:h,onChange:C("status")})}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("textarea",{className:"blog textinput",placeholder:"A short bio of yourself",value:b,onChange:C("about")}),(0,n.jsx)("small",{className:"form-text",children:"Tell us a little about yourself"})]}),(0,n.jsx)("div",{className:"form-group",children:(0,n.jsx)("input",{type:"text",placeholder:"Password",value:x,onChange:C("password")})}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("input",{type:"text",placeholder:"* Skills",value:y,onChange:C("skills")}),(0,n.jsx)("small",{className:"text-primary",children:"Please use comma separated values (eg. HTML,CSS,JavaScript,PHP)"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"text-primary"}),(0,n.jsx)("input",{type:"text",placeholder:"URL of your website",value:N,onChange:C("website")}),(0,n.jsx)("small",{className:"text-primary",children:"Paste URL of your website or any brand you have"})]}),(0,n.jsx)("h2",{className:"lead text-primary my-1",children:"Add Social Accounts"}),(0,n.jsx)("div",{className:"form-group",children:(0,n.jsx)("input",{type:"text",placeholder:"Full URL of your insta profile",value:v,onChange:C("insta")})}),(0,n.jsx)("div",{className:"form-group",children:(0,n.jsx)("input",{type:"text",placeholder:"Full URL of your facebook profile",value:w,onChange:C("facebook")})}),(0,n.jsx)("div",{className:"form-group",children:(0,n.jsx)("input",{type:"text",placeholder:"Paste URL of your twitter profile",value:k,onChange:C("twitter")})}),(0,n.jsx)("div",{className:"form-group",children:(0,n.jsx)("input",{type:"text",placeholder:"Full URL of your linkedin profile",value:O,onChange:C("linkedin")})}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary nbtn my-1",children:"Submit"})]})]})})}},42975:function(e,t,r){"use strict";r.r(t);var n=r(85893),a=r(82025),s=r(17199),o=r(33099),i=r(9008);t.default=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.default,{children:[(0,n.jsxs)("title",{children:["Update Profile |The ",a.iC]}),(0,n.jsx)("meta",{name:"robots",content:"noindex nofollow"})]}),(0,n.jsx)(s.Z,{children:(0,n.jsx)("div",{children:(0,n.jsx)(o.Z,{})})})]})}},18130:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/update",function(){return r(42975)}])},71385:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,{Z:function(){return a}})}},function(e){e.O(0,[9774,2888,179],(function(){return t=18130,e(e.s=t);var t}));var t=e.O();_N_E=t}]);