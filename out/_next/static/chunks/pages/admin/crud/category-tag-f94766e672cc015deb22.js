(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5457],{23386:function(e,n,r){"use strict";r.d(n,{Ue:function(){return l},CP:function(){return d},sT:function(){return f}});var t=r(809),o=r.n(t),c=r(92447),a=r(94301),s=r.n(a),i=r(82025),u=r(88043),l=function(){var e=(0,c.Z)(o().mark((function e(n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()("".concat(i.bl,"/category"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(n)}).then((function(e){return(0,u._y)(e),e.json()})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,c.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s()("".concat(i.bl,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,c.Z)(o().mark((function e(n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()("".concat(i.bl,"/category/").concat(n),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)}}).then((function(e){return(0,u._y)(e),e.json()})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},72199:function(e,n,r){"use strict";r.d(n,{Ue:function(){return l},NJ:function(){return d},tc:function(){return f}});var t=r(809),o=r.n(t),c=r(92447),a=r(94301),s=r.n(a),i=r(82025),u=r(88043),l=function(){var e=(0,c.Z)(o().mark((function e(n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()("".concat(i.bl,"/tag"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(n)}).then((function(e){return(0,u._y)(e),e.json()})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,c.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s()("".concat(i.bl,"/tags"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,c.Z)(o().mark((function e(n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()("".concat(i.bl,"/tag/").concat(n),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)}}).then((function(e){return(0,u._y)(e),e.json()})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},75787:function(e,n,r){"use strict";var t=r(85893),o=r(67294),c=r(11163),a=r(88043);n.Z=function(e){var n=e.children;return(0,o.useEffect)((function(){(0,a.$D)()?1!==(0,a.$D)().role&&c.default.push("/"):c.default.push("/signin")}),[]),(0,t.jsx)(o.Fragment,{children:n})}},39777:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return y}});var t=r(85893),o=r(84830),c=r(75787),a=r(26265),s=r(67294),i=r(88043),u=r(23386);function l(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function d(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var f=function(){var e=(0,s.useState)({name:"",error:!1,success:!1,categories:[],removed:!1,reload:!1}),n=e[0],r=e[1],o=n.name,c=n.error,a=n.success,l=n.categories,f=n.removed,p=n.reload,h=(0,i.ej)("token");(0,s.useEffect)((function(){m()}),[p]);var m=function(){(0,u.CP)().then((function(e){e.error?console.log(e.error):r(d(d({},n),{},{categories:e}))}))},g=function(e){window.confirm("Are you sure you want to delete this category?")&&function(e){(0,u.sT)(e,h).then((function(e){e.error?console.log(e.error):r(d(d({},n),{},{error:!1,success:!1,name:"",removed:!f,reload:!p}))}))}(e)},b=function(e){e.preventDefault(),(0,u.Ue)({name:o},h).then((function(e){e.error?r(d(d({},n),{},{error:e.error,success:!1})):r(d(d({},n),{},{error:!1,success:!1,name:"",removed:!f,reload:!p}))}))},j=function(e){r(d(d({},n),{},{name:e.target.value,error:!1,success:!1,removed:""}))};return(0,t.jsxs)(s.Fragment,{children:[function(){if(a)return(0,t.jsx)("div",{className:" p-1 nbtn badge badge-success",style:{display:a?"":"none"},children:"Category is created"})}(),function(){if(c)return(0,t.jsx)("div",{className:" p-1 nbtn badge badge-danger",style:{display:c?"":"none"},children:"Category already exist"})}(),function(){if(f)return(0,t.jsx)("div",{className:" p-1 nbtn badge badge-danger",style:{display:f?"":"none"},children:"Category is removed"})}(),(0,t.jsx)("div",{onMouseMove:function(e){r(d(d({},n),{},{error:!1,success:!1,removed:""}))}}),(0,t.jsxs)("form",{className:"form",onSubmit:b,children:[(0,t.jsx)("div",{className:"form-group",children:(0,t.jsx)("input",{type:"text",className:"form-text",onChange:j,placeholder:"Catagory",value:o,required:!0})}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",className:"btn btn-primary nbtn",children:"Create"})})]}),(0,t.jsx)("div",{className:"catagoriesAndTags",children:l.map((function(e,n){return(0,t.jsx)("button",{style:{padding:"0rem 0.8rem"},onDoubleClick:function(){return g(e.slug)},title:"Double click to delete",className:"btn nbtn  btn-danger  my-1  ",children:(0,t.jsx)("h4",{children:e.name})},n)}))})]})},p=r(72199);function h(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function m(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?h(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var g=function(){var e=(0,s.useState)({name:"",error:!1,success:!1,tags:[],removed:!1,reload:!1}),n=e[0],r=e[1],o=n.name,c=n.error,a=n.success,u=n.tags,l=n.removed,d=n.reload,f=(0,i.ej)("token");(0,s.useEffect)((function(){h()}),[d]);var h=function(){(0,p.NJ)().then((function(e){e.error?console.log(e.error):r(m(m({},n),{},{tags:e}))}))},g=function(e){window.confirm("Are you sure you want to delete this tag?")&&b(e)},b=function(e){(0,p.tc)(e,f).then((function(e){e.error?console.log(e.error):r(m(m({},n),{},{error:!1,success:!1,name:"",removed:!l,reload:!d}))}))},j=function(e){e.preventDefault(),(0,p.Ue)({name:o},f).then((function(e){e.error?r(m(m({},n),{},{error:e.error,success:!1})):r(m(m({},n),{},{error:!1,success:!1,name:"",removed:!l,reload:!d}))}))},y=function(e){r(m(m({},n),{},{name:e.target.value,error:!1,success:!1,removed:""}))};return(0,t.jsxs)(s.Fragment,{children:[function(){if(a)return(0,t.jsx)("div",{className:" p-1 nbtn badge badge-success",style:{display:a?"":"none"},children:"Tag is created"})}(),function(){if(c)return(0,t.jsx)("div",{className:"badge p-1 nbtn badge-danger",style:{display:c?"":"none"},children:"Tag already exist"})}(),function(){if(l)return(0,t.jsx)("div",{className:"badge p-1 nbtn badge-danger",style:{display:l?"":"none"},children:"Tag is removed"})}(),(0,t.jsxs)("div",{onMouseMove:function(e){r(m(m({},n),{},{error:!1,success:!1,removed:""}))},children:[(0,t.jsxs)("form",{className:"form",onSubmit:j,children:[(0,t.jsx)("div",{className:"form-group",children:(0,t.jsx)("input",{type:"text",className:"form-text",onChange:y,placeholder:"Tag",value:o,required:!0})}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",className:"btn btn-primary nbtn",children:"Create"})})]}),(0,t.jsx)("div",{className:"catagoriesAndTags",children:u.map((function(e,n){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("button",{style:{padding:"0rem 0.8rem"},onDoubleClick:function(){return g(e.slug)},title:"Double click to delete",className:"btn btn-dark nbtn my-1 ",children:(0,t.jsx)("h4",{children:e.name})},n)})}))})]})]})},b=r(9008),j=r(82025),y=function(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(b.default,{children:[(0,t.jsxs)("title",{children:["Manage Categories | The ",j.iC]}),(0,t.jsx)("meta",{name:"robots",content:"noindex nofollow"})]}),(0,t.jsx)(o.Z,{children:(0,t.jsx)(c.Z,{children:(0,t.jsxs)("section",{className:"container",children:[(0,t.jsx)("h1",{className:"large text-primary",children:"Manage Tags and Categories"}),(0,t.jsx)("div",{className:"line"}),(0,t.jsx)("h3",{className:"text-dark",children:"Create a Category"}),(0,t.jsx)(f,{}),(0,t.jsx)("div",{className:"line my-2"}),(0,t.jsx)("h3",{className:"text-dark",children:"Create a Tag"}),(0,t.jsx)(g,{})]})})})]})}},96050:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/crud/category-tag",function(){return r(39777)}])}},function(e){e.O(0,[9774,2888,179],(function(){return n=96050,e(e.s=n);var n}));var n=e.O();_N_E=n}]);