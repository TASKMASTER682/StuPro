(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5826],{74370:function(e,t,n){"use strict";n.d(t,{hM:function(){return i},pb:function(){return u},ZL:function(){return l},VR:function(){return d},U1:function(){return p},fx:function(){return h},hv:function(){return f}});var r=n(809),a=n.n(r),o=n(92447),c=n(82025),s=n(88043),i=function(){var e=(0,o.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.bl,"/materials/create"),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)},body:t}).then((function(e){return(0,s._y)(e),e.json()})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.bl,"/materials"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,o.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.bl,"/materials/").concat(t),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,o.Z)(a().mark((function e(t,n,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.bl,"/materials/update/").concat(r),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)},body:t}).then((function(e){return(0,s._y)(e),e.json()})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,o.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.bl,"/materials/delete/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){return(0,s._y)(e),e.json()})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=(0,o.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(c.bl,"/materials/related"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,o.Z)(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={limit:n,skip:t},e.next=3,fetch("".concat(c.bl,"/materials/controlledList"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},73480:function(e,t,n){"use strict";n.d(t,{U:function(){return i},h:function(){return u}});var r=n(809),a=n.n(r),o=n(92447),c=n(82025),s=n(88043),i=function(){var e=(0,o.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.bl,"/materialCategories/create"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)}).then((function(e){return(0,s._y)(e),e.json()})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(c.bl,"/materialCategories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},75787:function(e,t,n){"use strict";var r=n(85893),a=n(67294),o=n(11163),c=n(88043);t.Z=function(e){var t=e.children;return(0,a.useEffect)((function(){(0,c.$D)()?1!==(0,c.$D)().role&&o.default.push("/"):o.default.push("/signin")}),[]),(0,r.jsx)(a.Fragment,{children:t})}},87613:function(e,t,n){"use strict";n.d(t,{nH:function(){return s},YM:function(){return i},vW:function(){return d},nX:function(){return p}});var r=n(26265),a=(n(67294),n(70807));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=c(c({},(0,a.mbl)()),{},(0,r.Z)({},a.sTz,(0,a.vl2)(a.rVG,{styles:{root:{backgroundColor:"#111827",selectors:{code:{color:"white"}}}}}))),i=(0,a.O_e)(),u={types:[a.GDC,a.oGK,a.o3Y,a.jB_,a.$H6,a.KWL,a.ahg,a.sTz,a.Zvw],defaultType:a.JBe},l={rules:[c(c({},u),{},{hotkey:"Enter",predicate:a.ptC}),c(c({},u),{},{hotkey:"Backspace",predicate:a._YE})]},d=[(0,a.SPV)(),(0,a.JE4)(),(0,a.qpA)(),(0,a.V8Y)(),(0,a.gH_)(l),(0,a.ZZF)(),(0,a.DLO)(),(0,a._8X)(),(0,a.DRt)(),(0,a.SNQ)(),(0,a.Tvz)(),(0,a.w4y)(),(0,a.cB2)({allow:[a.IVr]}),(0,a.cB2)({allow:[a.vdJ]}),(0,a.BM4)(),(0,a.pJg)(),(0,a.Td$)(),(0,a.wFy)(),(0,a.Hon)(),(0,a.sWz)(),(0,a.oyw)(),(0,a.fSR)()],p=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=void 0===n?a.JBe:n,o=t.mark,c={text:e};return o&&(c[o]=!0),{type:r,children:[c]}}("Write Something amazing that helps the students and job seekers...",{type:a.JBe})]},96702:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(85893),a=n(75787),o=n(71385),c=n(26265),s=n(67294),i=n(11163),u=n(5152),l=(n(68341),n(88043)),d=n(73480),p=n(74370),h=n(85156),f=n(70807),m=n(87613),j=n(82025);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=(0,u.default)((function(){return Promise.all([n.e(585),n.e(677)]).then(n.bind(n,40677))}),{loading:function(){return""},ssr:!1,loadableGenerated:{webpack:function(){return[40677]},modules:["..\\components\\materialCrud\\UpdateMaterial.js -> ../slate-plugins/index"]}}),b=(0,i.withRouter)((function(e){var t,n=e.router,a=(0,s.useState)(""),u=a[0],g=a[1],b=(0,s.useState)([]),y=b[0],w=b[1],O=(0,s.useState)([]),S=O[0],C=O[1],N=(0,s.useState)((t={error:"",sizeError:"",success:"",formData:"",title:"",subtitle:"",forSlug:"",desc:""},(0,c.Z)(t,"forSlug",""),(0,c.Z)(t,"subCat",""),(0,c.Z)(t,"mainCat",""),(0,c.Z)(t,"standard",""),(0,c.Z)(t,"materialType",""),t)),k=N[0],T=N[1],Z=k.error,P=(k.sizeError,k.success),D=k.formData,_=k.title,E=k.desc,B=k.subtitle,J=(k.forSlug,k.mainCat),z=k.language,A=k.subCat,G=k.standard,L=k.materialType,U=(0,l.ej)("token");(0,s.useEffect)((function(){T(x(x({},k),{},{formData:new FormData})),$(),M()}),[n]);var $=function(){n.query.slug&&(0,p.ZL)(n.query.slug).then((function(e){e.error?console.log(e.error):(T(x(x({},k),{},{title:e.title,subtitle:e.subtitle,desc:e.desc,mainCat:e.mainCat,subCat:e.subCat,standard:e.standard,language:e.language,materialType:e.materialType,error:""})),F(e.materialCategories),g(e.body))}))},F=function(e){var t=[];e.map((function(e,n){t.push(e._id)})),C(t)},M=function(){(0,d.h)().then((function(e){e.error?T(x(x({},k),{},{error:e.error})):w(e)}))},q=function(e){return function(){T(x(x({},k),{},{error:""}));var t=S.indexOf(e),n=(0,o.Z)(S);-1===t?n.push(e):n.splice(t,1),console.log(n),C(n),D.set("materialCategories",n)}},H=function(e){return-1!==S.indexOf(e)},V=function(e){return function(t){var n,r="photo"===e?t.target.files[0]:t.target.value;D.set(e,r),T(x(x({},k),{},(n={},(0,c.Z)(n,e,r),(0,c.Z)(n,"formData",D),(0,c.Z)(n,"error",""),n)))}},Y=function(e){g(e);var t=(0,o.Z)(e),n=(0,f.mhf)(),r=(0,f.aD$)(n,{plugins:m.vW,nodes:t});D.set("body",r),localStorage.setItem("material",JSON.stringify(e))},R=function(e){e.preventDefault(),(0,p.VR)(D,U,n.query.slug).then((function(e){e.error?T(x(x({},k),{},{error:e.error})):(T(x(x({},k),{},{title:"",success:'Job titled "'.concat(e.title,'" is successfully updated')})),(0,l.$D)()&&1===(0,l.$D)().role?i.default.replace("/admin"):(0,l.$D)()&&0===(0,l.$D)().role&&i.default.replace("/user"))}))};return(0,r.jsxs)("section",{className:"blogCreate",children:[(0,r.jsx)("div",{className:"badge badge-danger p-1",style:{display:Z?"":"none"},children:Z}),(0,r.jsx)("div",{className:"badge badge-success p-1",style:{display:P?"":"none"},children:P}),(0,r.jsxs)("div",{className:"createMain",children:[(0,r.jsxs)("div",{className:"blogDiv",children:[(0,r.jsx)("h1",{className:"large text-primary",children:"Update Job"}),(0,r.jsx)("div",{className:"line"}),(0,r.jsxs)("div",{className:"createForm",children:[(0,r.jsxs)("form",{className:"form",onSubmit:R,children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"text-primary",children:"Title"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{className:"form-group",type:"text",value:_,onChange:V("title")})]}),(0,r.jsx)("div",{className:"form-group",children:(0,r.jsxs)("select",{name:"Language",value:z,onChange:V("language"),required:!0,children:[(0,r.jsx)("option",{value:"0",children:"Select Language"}),(0,r.jsx)("option",{value:"en",children:"en"}),(0,r.jsx)("option",{value:"hi",children:"hi"})]})}),(0,r.jsx)("div",{className:"form-group",children:(0,r.jsx)("input",{type:"text",placeholder:"Sub-Title",value:B,onChange:V("subtitle"),required:!0})}),(0,r.jsx)("div",{className:"form-group",children:(0,r.jsx)("input",{type:"text",placeholder:"Description",value:E,onChange:V("desc")})}),(0,r.jsx)("div",{className:"form-group",children:(0,r.jsxs)("select",{name:"Language",value:J,onChange:V("mainCat"),children:[(0,r.jsx)("option",{value:"0",children:"Select Main Category"}),(0,r.jsx)("option",{value:"schooling",children:"Schooling"}),(0,r.jsx)("option",{value:"underGraduate",children:"Under Graduate"}),(0,r.jsx)("option",{value:"jobSeekers",children:"JobSeeker"})]})}),(0,r.jsx)("div",{className:"form-group",children:(0,r.jsxs)("select",{name:"subCat",value:A,onChange:V("subCat"),children:[(0,r.jsx)("option",{value:"0",children:"Select Sub-Category"}),(0,r.jsx)("option",{value:"cbse",children:"CBSE"}),(0,r.jsx)("option",{value:"underGraduate",children:"State Boards"}),(0,r.jsx)("option",{value:"jobSeekers",children:"JobSeekers"})]})}),(0,r.jsx)("div",{className:"form-group",children:(0,r.jsxs)("select",{name:"standard",value:G,onChange:V("standard"),children:[(0,r.jsx)("option",{value:"0",children:"Select the Standard"}),(0,r.jsx)("option",{value:"5th",children:"5th"}),(0,r.jsx)("option",{value:"6th",children:"6th"}),(0,r.jsx)("option",{value:"7th",children:"7th"}),(0,r.jsx)("option",{value:"8th",children:"8th"}),(0,r.jsx)("option",{value:"9th",children:"9th"}),(0,r.jsx)("option",{value:"10th",children:"10th"}),(0,r.jsx)("option",{value:"11th",children:"11th"}),(0,r.jsx)("option",{value:"12th",children:"12th"})]})}),(0,r.jsx)("div",{className:"form-group",children:(0,r.jsxs)("select",{name:"materialType",value:L,onChange:V("materialType"),children:[(0,r.jsx)("option",{value:"0",children:"Select the type of material you want"}),(0,r.jsx)("option",{value:"Syllabus",children:"Syllabus"}),(0,r.jsx)("option",{value:"Previous Years",children:"Previous Years"}),(0,r.jsx)("option",{value:"Books pdf",children:"Books pdf"}),(0,r.jsx)("option",{value:"Tips and Tricks",children:"Tips and Tricks"}),(0,r.jsx)("option",{value:"Solutions",children:"Solutions"}),(0,r.jsx)("option",{value:"Solutions",children:"Handwritten Notes Pdf"})]})}),(0,r.jsx)(v,{handleChange:Y}),(0,r.jsx)("button",{type:"submit",className:"btn nbtn btn-dark my-1",children:"Update"})]}),(0,r.jsx)("div",{className:"line"}),u&&(0,r.jsx)("img",{src:"".concat(j.bl,"/materials/photo/").concat(n.query.slug),alt:_,style:{width:"100%"}})]})]}),(0,r.jsxs)("div",{className:"catagoriesTags",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-primary",children:"Featured Image"}),(0,r.jsx)("small",{className:"text-light-gray",children:"Max size: 1mb"}),(0,r.jsx)("br",{}),(0,r.jsxs)("label",{className:" btn btn-dark nbtn",children:["Upload Featured Image",(0,r.jsx)("input",{onChange:V("photo"),type:"file",accept:"image/*",hidden:!0})]}),(0,r.jsx)("div",{className:"line"})]}),(0,r.jsx)("div",{className:"checkList",children:(0,r.jsxs)("ul",{style:{maxHeight:"200px"},children:[(0,r.jsx)("h3",{className:"text-primary",children:"Tags"}),(0,r.jsx)("small",{className:"text-light-gray",children:"Category"}),y&&y.map((function(e,t){return(0,r.jsxs)("li",{className:"list-unstyled",children:[(0,r.jsx)(h.Z,{onChange:q(e._id),checked:H(e._id)}),(0,r.jsx)("label",{className:"form-check-label",children:e.name})]},t)}))]})})]})]})]})})),y=n(9008),w=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(y.default,{children:[(0,r.jsxs)("title",{children:["Update Study Material | The ",j.iC]}),(0,r.jsx)("meta",{name:"robots",content:"noindex nofollow"})]}),(0,r.jsx)(a.Z,{children:(0,r.jsx)(b,{})})]})}},80016:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/materialcrud/[slug]/update",function(){return n(96702)}])},52361:function(){},94616:function(){}},function(e){e.O(0,[9774,323,8764,807,2107,8341,2888,179],(function(){return t=80016,e(e.s=t);var t}));var t=e.O();_N_E=t}]);